(this["webpackJsonpenroller-ui"]=this["webpackJsonpenroller-ui"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(48),l=a.n(c),o=(a(97),a(12)),s=a(31),i=a(13),u=a(74),m=a.n(u),d=a(170),f=a(80),p={url:"https://keycloak:8443/auth",realm:"lamassu",clientId:"lamassu-enroller",onLoad:"login-required"},E=null;function h(){return E.updateToken(30)}function b(){return E.token}function g(e){if(E&&e)return e.some((function(e){var t=E.hasRealmRole(e),a=E.hasResourceRole(e);return t||a}))}function v(e){var t=e.roles,a=e.children;return g(t)&&a}function O(e){var t=e.component,a=e.roles,n=Object(f.a)(e,["component","roles"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){return g(a)?r.a.createElement(t,Object.assign({key:l()()},e)):r.a.createElement(i.a,{to:{pathname:"/"}})}}))}var y=a(9),C=a(152),j=a(153),k=a(65),S=a(154),x=a(155),R=a(174),w=a(171),N=a(160),P=a(143),A=a(138),B=a(50),D=a(177),T=a(142),L=a(136),z=Object(L.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},title:{flex:"1 1 100%"}}}));function M(e){var t=z(),a=e.numSelected;return r.a.createElement(A.a,{className:t.root},r.a.createElement(B.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Signed Certificates"),a<=0&&r.a.createElement(D.a,{title:"Filter list"},r.a.createElement(T.a,{"aria-label":"filter list"},r.a.createElement(P.a,null))))}var U=a(144),I=a(145),F=a(146),$=a(179),_=Object(L.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),W=[{id:"dn",numeric:!1,disablePadding:!0,label:"Distinguished Name"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"expirationDate",numeric:!1,disablePadding:!1,label:"Expiration Date"},{id:"revocationDate",numeric:!1,disablePadding:!1,label:"Revocation Date"},{id:"serial",numeric:!1,disablePadding:!1,label:"Serial Number"},{id:"key",numeric:!1,disablePadding:!1,label:"Key Algorithm"},{id:"keySize",numeric:!0,disablePadding:!1,label:"Key Size"},{id:"filename",numeric:!1,disablePadding:!1,label:"Filename"}];function G(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,c=_();return r.a.createElement(U.a,null,r.a.createElement(I.a,null,r.a.createElement(F.a,{padding:"checkbox"}),W.map((function(e){return r.a.createElement(F.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t},r.a.createElement($.a,{active:a===e.id,direction:a===e.id?t:"asc",onClick:(l=e.id,function(e){n(e,l)})},e.label,a===e.id?r.a.createElement("span",{className:c.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null));var l}))))}var K=a(147),q=a(173);function H(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function J(e){var t,a,n=function(t,a){e.onHandleClick(t,a)};return r.a.createElement(K.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(e.crts,(t=e.order,a=e.orderBy,"desc"===t?function(e,t){return H(e,t,a)}:function(e,t){return-H(e,t,a)})).slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((function(t,a){var c,l="V"===t.status?n:function(){},o=(c=t.dn,e.isSelected(c)),s="enhanced-table-checkbox-".concat(a),i=t.expirationDate.replace(/^(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)Z$/,"$1/$2/$3 $4:$5:$6"),u=""!==t.revocationDate&&t.revocationDate.replace(/^(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)Z$/,"$1/$2/$3 $4:$5:$6");return r.a.createElement(I.a,{hover:!0,onClick:function(e){return l(e,t.dn)},role:"checkbox","aria-checked":o,tabIndex:-1,key:t.dn,selected:o},r.a.createElement(F.a,{padding:"checkbox"},r.a.createElement(q.a,{checked:o,inputProps:{"aria-labelledby":s},disabled:"R"===t.status,indeterminate:"R"===t.status})),r.a.createElement(F.a,{component:"th",id:s,scope:"row",padding:"none"},t.dn),r.a.createElement(F.a,{align:"left"},"V"===t.status?"Valid":"Revoked"),r.a.createElement(F.a,{align:"left"},i),r.a.createElement(F.a,{align:"left"},u),r.a.createElement(F.a,{align:"right"},t.serial),r.a.createElement(F.a,{align:"left"},t.key),r.a.createElement(F.a,{align:"right"},t.keySize),r.a.createElement(F.a,{align:"left"},t.crtpath))})),e.emptyRows>0&&r.a.createElement(I.a,{style:{height:33*e.emptyRows}},r.a.createElement(F.a,{colSpan:6})))}var V=a(180),Z=a(148),Q=a(149),X=a(150),Y=a(151),ee=Object(L.a)((function(e){return{error:{backgroundColor:e.palette.error.dark,margin:e.spacing(1)},success:{backgroundColor:e.palette.success.dark,margin:e.spacing(1)},icon:{fontSize:20,opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function te(e){var t=Object(n.useState)(!0),a=Object(y.a)(t,2),c=a[0],l=a[1],o=function(){l(!1),e.setMessage(null)},s=ee(),i=e.type,u="error"===i?s.error:s.success;return r.a.createElement(V.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:6e3,onClose:o},r.a.createElement(Z.a,{className:u,"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:s.message},"error"===i?r.a.createElement(Q.a,{className:s.icon}):r.a.createElement(X.a,{className:s.icon}),e.message),action:[r.a.createElement(T.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(Y.a,{className:s.icon}))]}))}var ae=Object(L.a)((function(e){return{paper:{width:"100%",paddingBottom:e.spacing(2),marginBottom:e.spacing(2)},table:{minWidth:750}}}));function ne(){var e=ae(),t=Object(n.useState)("asc"),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("dn"),s=Object(y.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)([]),d=Object(y.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(0),g=Object(y.a)(E,2),v=g[0],O=g[1],P=Object(n.useState)(5),A=Object(y.a)(P,2),B=A[0],D=A[1],T=Object(n.useState)(null),L=Object(y.a)(T,2),z=L[0],U=L[1],I=Object(n.useState)(null),F=Object(y.a)(I,2),$=F[0],_=F[1],W=Object(n.useState)(null),K=Object(y.a)(W,2),q=K[0],H=K[1],V=Object(n.useState)([]),Z=Object(y.a)(V,2),Q=Z[0],X=Z[1],Y=Object(n.useState)(!1),ee=Object(y.a)(Y,2),ne=ee[0],re=ee[1],ce=function(){h().success((function(){fetch("https://scep:8086/v1/scep",{method:"GET",headers:{Authorization:"Bearer "+b()}}).then((function(e){e.ok?e.json().then((function(e){void 0!==e.CRTs?(re(!0),X(e.CRTs.CRTs)):(re(!1),U("Database is empty"))})):e.text().then((function(e){re(!1),U(e)}))})).catch((function(e){return U(e.message)}))}))},le=function(e){h().success((function(){(function(e){var t="https://scep:8086/v1/scep/"+e.serial;return fetch(t,{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer "+b()}})})(e).then((function(e){e.ok?e.json().then((function(e){ce(),_(null),H("Certificate successfully revoked")})):e.text().then((function(e){ce(),_(e),H(null)}))})).catch((function(e){return U(e.message)}))}))};Object(n.useEffect)((function(){ce()}),[]);var oe=B-Math.min(B,Q.length-v*B);return r.a.createElement(r.a.Fragment,null,null!==z&&r.a.createElement(te,{setMessage:U,message:z,type:"error"}),null!==q&&r.a.createElement(te,{setMessage:H,message:q,type:"success"}),null!==$&&r.a.createElement(te,{setMessage:_,message:$,type:"error"}),null===z&&!ne&&null!==Q&&r.a.createElement(C.a,null),null===z&&ne&&null!==Q&&r.a.createElement(j.a,{maxWidth:"lg"},r.a.createElement(k.a,{className:e.paper},r.a.createElement(M,{numSelected:f.length}),r.a.createElement(S.a,null,r.a.createElement(x.a,{className:e.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(G,{numSelected:f.length,order:c,orderBy:i,onRequestSort:function(e,t){l(i===t&&"asc"===c?"desc":"asc"),u(t)},rowCount:Q.length}),r.a.createElement(J,{onHandleClick:function(e,t){var a=f.indexOf(t);p(-1!==a?[]:[t])},isSelected:function(e){return-1!==f.indexOf(e)},emptyRows:oe,crts:Q,order:c,orderBy:i,page:v,rowsPerPage:B}))),r.a.createElement(R.a,{rowsPerPageOptions:[5,10,25],component:"div",count:Q.length,rowsPerPage:B,page:v,onChangePage:function(e,t){O(t)},onChangeRowsPerPage:function(e){D(parseInt(e.target.value,10)),O(0)}}),r.a.createElement(w.a,{textAlign:"center"},r.a.createElement(N.a,{color:"secondary",variant:"contained",onClick:function(){var e=Q.find((function(e){return e.dn===f[0]}));le(e),p([])},disabled:0===f.length},"Revoke")))))}var re=a(161);function ce(e){var t=e.csr.ou,a=e.csr.mail,n=e.csr.csrpath;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{variant:"subtitle1",component:"h2"},"ID: ",e.csr.id," CN: ",e.csr.cn," Status: ",e.csr.status),r.a.createElement(B.a,{variant:"body1",component:"h3"},"C: ",e.csr.c," ST: ",e.csr.st," L: ",e.csr.l," O: ",e.csr.o),r.a.createElement(B.a,{variant:"body2",component:"h4"},""!==t&&r.a.createElement("p",null,"OU: ",t," "),""!==a&&r.a.createElement("p",null,"EMAIL: ",a," "),""!==n&&r.a.createElement("p",null,"CSRFilePath: ",n)))}var le=a(178),oe=a(162),se=a(163),ie=a(164),ue=a(5),me=a.n(ue);function de(e){var t="https://enroller:8085/v1/csrs/"+e.id;return e.status="APPROBED",fetch(t,{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer "+b()}})}function fe(e){var t="https://enroller:8085/v1/csrs/"+e.id;return e.status="DENIED",fetch(t,{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer "+b()}})}function pe(e){var t="https://enroller:8085/v1/csrs/"+e.id;return e.status="REVOKED",fetch(t,{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer "+b()}})}function Ee(e){var t="https://enroller:8085/v1/csrs/"+e.id;return fetch(t,{method:"DELETE",headers:{Authorization:"Bearer "+b()}})}function he(e){var t="https://enroller:8085/v1/csrs/"+e.id+"/crt";return fetch(t,{method:"GET",headers:{Authorization:"Bearer "+b()}})}var be=Object(L.a)({button:{width:"100%"}});function ge(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),c=a[0],l=a[1],o=be(),s=r.a.createElement(r.a.Fragment,null,null!==c&&r.a.createElement(te,{setMessage:l,message:c,type:"error"}),r.a.createElement(re.a,{item:!0,xs:7},r.a.createElement(N.a,{color:"default",variant:"contained",onClick:function(){e.onCSRStatusChange(de)},className:o.button},"Accept")),r.a.createElement(re.a,{item:!0,xs:5},r.a.createElement(N.a,{color:"primary",variant:"contained",onClick:function(){e.onCSRStatusChange(fe)},className:o.button},"Deny"))),i=r.a.createElement(r.a.Fragment,null,null!==c&&r.a.createElement(te,{setMessage:l,message:c,type:"error"}),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(N.a,{color:"secondary",variant:"contained",onClick:function(){e.onCSRStatusChange(Ee)},className:o.button},"Remove"))),u=r.a.createElement(r.a.Fragment,null,null!==c&&r.a.createElement(te,{setMessage:l,message:c,type:"error"}),r.a.createElement(re.a,{item:!0,xs:7},r.a.createElement(N.a,{color:"default",variant:"contained",onClick:function(){h().success((function(){he(e.csr).then((function(t){t.ok?t.blob().then((function(t){l(null);var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download","crt-".concat(e.csr.id,".crt")),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})):t.text().then((function(e){l(e)}))})).catch((function(e){return l(e.message)}))}))},className:o.button},"Download Certificate")),r.a.createElement(re.a,{item:!0,xs:5},r.a.createElement(N.a,{color:"secondary",variant:"contained",onClick:function(){e.onCSRStatusChange(pe)},className:o.button},"Revoke")));switch(e.csr.status){case"NEW":return s;case"APPROBED":return u;case"DENIED":case"REVOKED":return i;default:return s}}function ve(e){var t=Object(n.useState)(e.csr),a=Object(y.a)(t,2),c=a[0],l=a[1],o=function(){e.onModalChange()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:e.open},r.a.createElement(oe.a,null,"CSR Details"),r.a.createElement(se.a,{dividers:!0},r.a.createElement(ce,{csr:c})),r.a.createElement(ie.a,null,r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(ge,{csr:c,onCSRStatusChange:function(t){h().success((function(){t(e.csr).then((function(t){t.ok?t.json().then((function(t){console.log(t),e.onCSRUpdate(),l(t),e.setOpCorrect("Operation successful"),e.setOpError(null)})):t.text().then((function(t){l(e.csr),e.setOpError(t),e.setOpCorrect(null)}))})).catch((function(t){return e.setOpError(t.message)})),o()}))}})))))}ge.propTypes={csr:me.a.object,onCSRStatusChange:me.a.func.isRequired};var Oe=Object(L.a)({button:{width:"100%"}});function ye(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),s=Object(y.a)(o,2),i=s[0],u=s[1],m=Oe();return r.a.createElement(r.a.Fragment,null,null!==i&&r.a.createElement(te,{setMessage:u,message:i,type:"error"}),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(v,{roles:["admin"]},r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:6},r.a.createElement(v,{roles:["admin"]},r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){l(!0)},className:m.button},"Details")),r.a.createElement(ve,{csr:e.csr,open:c,onModalChange:function(){l(!1)},setOpError:e.setOpError,setOpCorrect:e.setOpCorrect,onCSRUpdate:e.onCSRUpdate})),r.a.createElement(re.a,{item:!0,xs:6},r.a.createElement(N.a,{variant:"outlined",color:"primary",onClick:function(){h().success((function(){return function(e){var t="https://enroller:8085/v1/csrs/"+e.id+"/file";return fetch(t,{method:"GET",headers:{Authorization:"Bearer "+b()}})}(e.csr).then((function(t){t.ok?t.blob().then((function(t){u(null);var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download","crt-".concat(e.csr.id,".crt")),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})):t.text().then((function(e){u(e)}))})).catch((function(e){return u(e.message)}))}))},className:m.button},"Download")))),r.a.createElement(v,{roles:["operator"]},r.a.createElement(N.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:"APPROBED"!==e.csr.status,onClick:function(){h().success((function(){return he(e.csr).then((function(t){t.ok?t.blob().then((function(t){u(null);var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download","crt-".concat(e.csr.id,".crt")),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})):t.text().then((function(e){u(e)}))})).catch((function(e){return u(e.message)}))}))},className:m.button},"Download Certificate"))))}var Ce=Object(L.a)({root:{padding:"15px 15px 15px  15px",margin:"10px"}});function je(e){var t=Ce();return r.a.createElement(re.a,{item:!0,xs:4},r.a.createElement(k.a,{className:t.root},r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(ce,{csr:e.csr})),r.a.createElement(ye,{csr:e.csr,setOpError:e.setOpError,setOpCorrect:e.setOpCorrect,onCSRUpdate:e.onCSRUpdate}))))}function ke(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(y.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(null),E=Object(y.a)(p,2),g=E[0],v=E[1],O=Object(n.useState)(null),j=Object(y.a)(O,2),k=j[0],S=j[1],x=function(){h().success((function(){fetch("https://enroller:8085/v1/csrs",{method:"GET",headers:{Authorization:"Bearer "+b()}}).then((function(e){e.ok?e.json().then((function(e){void 0!==e._embedded&&(f(!0),i(e._embedded.csr))})):e.text().then((function(e){f(!1),c(e)}))})).catch((function(e){return c(e.message)}))}))};return Object(n.useEffect)((function(){x()}),[]),r.a.createElement(r.a.Fragment,null,null!==a&&r.a.createElement(te,{setMessage:c,message:a,type:"error"}),null!==g&&r.a.createElement(te,{setMessage:v,message:g,type:"error"}),null!==k&&r.a.createElement(te,{setMessage:S,message:k,type:"success"}),null===a&&!d&&null!==s&&r.a.createElement(C.a,null),null===a&&d&&null!==s&&r.a.createElement(re.a,{container:!0,spacing:2},s.length>1?s.map((function(e){return r.a.createElement(je,{key:e.id.toString(),csr:e,setOpError:v,setOpCorrect:S,onCSRUpdate:x})})):r.a.createElement(je,{key:s.id.toString(),csr:s,setOpError:v,setOpCorrect:S,onCSRUpdate:x})))}var Se=a(176);function xe(){var e=Object(n.useState)(""),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(y.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(null),m=Object(y.a)(u,2),d=m[0],f=m[1];return r.a.createElement(r.a.Fragment,null,null!==s&&r.a.createElement(te,{setMessage:i,message:s,type:"error"}),null!==d&&r.a.createElement(te,{setMessage:f,message:d,type:"success"}),r.a.createElement(j.a,{maxWidth:"sm"},r.a.createElement("form",{onSubmit:function(e){h().success((function(){var e;(e=a,fetch("https://enroller:8085/v1/csrs",{method:"POST",headers:{Authorization:"Bearer "+b(),"Content-Type":"application/pkcs10"},body:e})).then((function(e){e.ok?(c(""),i(null),f("CSR successfully submmited")):e.text().then((function(e){c(""),i(e),f(null)}))})).catch((function(e){return i(e.message)}))})),e.preventDefault()}},r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"h6"},"Insert your CSR (Certificate Signing Request)")),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(Se.a,{label:"Insert here",multiline:!0,fullWidth:!0,rows:20,onChange:function(e){c(e.target.value)},value:a})),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary"},"Insert"))))))}var Re=a(159),we=a(156),Ne=a(165),Pe=a(166),Ae=a(167),Be=a(168);var De=Object(L.a)((function(e){return{list:{width:"100%",height:"100%",borderRadius:3,backgroundColor:e.palette.background.paper,border:"1px solid rgba(0, 0, 0, 0.12)"},card:{padding:"0px"}}}));function Te(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(y.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(null),m=Object(y.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(null),E=Object(y.a)(p,2),g=E[0],v=E[1],O=Object(n.useState)(null),C=Object(y.a)(O,2),k=C[0],S=C[1],x=De(),R=function(){h().success((function(){fetch("https://ca:8087/v1/cas",{method:"GET",headers:{Authorization:"Bearer "+b()}}).then((function(e){e.ok?e.json().then((function(e){void 0!==e.CAs&&(i(e.CAs.CAs),v(null))})):e.text().then((function(e){v(e)}))})).catch((function(e){return v(e.message)}))}))},w=function(e){f(e),h().success((function(){(function(e){return fetch("https://ca:8087/v1/cas/"+e,{method:"GET",headers:{Authorization:"Bearer "+b()}})})(e).then((function(e){e.ok?e.json().then((function(e){void 0!==e.CAInfo&&(c(e.CAInfo),v(null))})):e.text().then((function(e){v(e)}))})).catch((function(e){return v(e.message)}))}))},P=function(e){h().success((function(){(function(e){return fetch("https://ca:8087/v1/cas/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+b()}})})(e).then((function(e){e.ok?(S(d+" successfully revoked"),R(),f(null),c(null)):e.text().then((function(e){v(e)}))})).catch((function(e){return v(e.message)}))}))};return Object(n.useEffect)((function(){R()}),[]),r.a.createElement(j.a,{maxWidth:"md"},null!==g&&r.a.createElement(te,{setMessage:v,message:g,type:"error"}),null!==k&&r.a.createElement(te,{setMessage:S,message:k,type:"success"}),r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:6},r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"h6"},"List of registered CAs")),null!==s&&r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(Re.a,{component:"nav",className:x.list},s.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:e.ca_name},r.a.createElement(we.a,{key:e.ca_name,button:!0,onClick:function(){return w(e.ca_name)}},r.a.createElement(Ne.a,{key:e.ca_name,primary:e.ca_name})),t+1<s.length&&r.a.createElement(Pe.a,null))})))))),r.a.createElement(re.a,{item:!0,xs:6},r.a.createElement(re.a,{container:!0,spacing:2},null!==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"h6"},"CA detailed information")),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(Ae.a,{variant:"outlined",className:x.card},r.a.createElement(Be.a,null,r.a.createElement(B.a,{variant:"subtitle1"},"CN: ",a.cn,r.a.createElement("br",null),"Key Type: ",a.key_type,r.a.createElement("br",null),"Key Bits: ",a.key_bits),r.a.createElement(B.a,{variant:"body1"},"C: ",a.c,r.a.createElement("br",null),"ST: ",a.st,r.a.createElement("br",null),"L: ",a.l,r.a.createElement("br",null),"O: ",a.o))))))),r.a.createElement(re.a,{item:!0,xs:6},r.a.createElement(N.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:null==d,onClick:function(){S(d+" successfully registered")}},"Register into Cloud provider")),r.a.createElement(re.a,{item:!0,xs:6},r.a.createElement(N.a,{fullWidth:!0,variant:"contained",color:"secondary",disabled:null==d,onClick:function(){return P(d)}},"Revoke CA"))))}function Le(){var e=Object(i.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var ze=a(169),Me=a(182),Ue=Object(L.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.default,marginBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},typoAppBarTitle:{flexGrow:1,marginLeft:e.spacing(1)}}}));function Ie(){var e=Ue();return r.a.createElement("div",{className:e.root},r.a.createElement(ze.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(A.a,{className:e.toolbar},r.a.createElement(Me.a,{variant:"square",alt:"Lamassu Logo",src:"lamassu_logo.png"}),r.a.createElement(B.a,{variant:"h6",noWrap:!0,className:e.typoAppBarTitle},"Lamassu Enroller (RA)"),r.a.createElement(N.a,{component:s.b,to:"/",replace:!0,variant:"text"},"Home"),r.a.createElement(v,{roles:["admin"]},r.a.createElement(N.a,{component:s.b,to:"/cas",replace:!0,variant:"text"},"CAs")),r.a.createElement(v,{roles:["operator"]},r.a.createElement(N.a,{component:s.b,to:"/new",replace:!0,variant:"text"},"New")),r.a.createElement(v,{roles:["admin"]},r.a.createElement(N.a,{component:s.b,to:"/certs",replace:!0,variant:"text"},"Certificates list")),r.a.createElement(N.a,{variant:"text",onClick:function(){window.open("https://keycloak:8443/auth/realms/lamassu/account/","_blank")}},"Account"))))}m.a.config(),(E=new window.Keycloak({url:p.url,realm:p.realm,clientId:p.clientId})).init({onLoad:p.onLoad}).success((function(e){e?Object(o.render)(r.a.createElement(s.a,null,r.a.createElement(d.a,null),r.a.createElement(Ie,null),r.a.createElement(Le,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(ke,Object.assign({key:l()()},e))}}),r.a.createElement(i.b,{exact:!0,path:"/new",render:function(e){return r.a.createElement(xe,Object.assign({key:l()()},e))}}),r.a.createElement(O,{component:Te,path:"/cas",roles:["admin"]}),r.a.createElement(O,{component:ne,path:"/certs",roles:["admin"]}))),document.getElementById("root")):window.location.reload()}))},95:function(e,t,a){e.exports=a(107)}},[[95,1,2]]]);
//# sourceMappingURL=main.aef64262.chunk.js.map